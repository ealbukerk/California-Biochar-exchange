<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biochar.market - Listings</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    />
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/auth-state.js"></script>
    <script src="js/multiselect.js"></script>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/listings.css" />
  </head>
  <body>
    <nav>
      <div class="container nav-inner">
        <a class="nav-logo" href="index.html">BM</a>
        <ul class="nav-links">
          <li><a href="listings.html">Listings</a></li>
          <li><a href="match.html">Soil Match</a></li>
          <li><a href="learn.html">Learn</a></li>
          <li><a href="producers.html">For Producers</a></li>
          <li><a href="buyers.html">For Buyers</a></li>
          <li><a href="admin.html">Dashboard</a></li>
        </ul>
        <a class="nav-cta" href="producers.html">List Your Biochar</a>
      </div>
    </nav>

    <div class="filter-bar" id="filter-bar">
      <div class="container filter-inner">
        <input id="search" type="text" placeholder="Search producers, counties..." />

        <div id="ms-feedstock"></div>
        <div id="ms-region"></div>
        <div id="ms-cert"></div>

        <select id="filter-sort">
          <option value="price-asc">Sort by: Price (Low–High)</option>
          <option value="price-desc">Price (High–Low)</option>
          <option value="carbon-desc">Carbon Content</option>
          <option value="tonnes-desc">Available Tonnes</option>
          <option value="rating-desc">Rating</option>
        </select>
      </div>
    </div>

    <main class="listings-page">
      <div class="container">
        <div id="listings-grid" class="listings-grid" aria-live="polite"></div>
        <div id="comparison-view" style="display: none;"></div>
      </div>
    </main>

    <div
      id="compare-bar"
      style="background: var(--color-surface); border-top: 1px solid var(--color-border); padding: var(--space-4) var(--space-6); display: none; align-items: center; justify-content: space-between; position: sticky; bottom: 0;"
    >
      <span id="compare-count">0 listings selected</span>
      <button id="compare-btn" class="btn btn-primary" type="button">Compare Selected</button>
    </div>

    <footer class="site-footer">
      <div class="container footer-inner">
        <span>© 2025 Biochar.market</span>
        <span>United States · 2025</span>
      </div>
    </footer>

    <script src="js/data.js"></script>
    <script src="js/listings.js"></script>
  </body>
</html>
